<div class="flex h-screen overflow-y-scroll  relative " >

  <ng-container *ngIf="isSidebarOpen; else elseBlock">
    <!-- <app-side-nav></app-side-nav> -->
    <app-sidebar></app-sidebar>
  </ng-container>


  <ng-template #elseBlock>
    <app-side-nav-closed></app-side-nav-closed>
  </ng-template>

  <div class="flex flex-col flex-1 h-full overflow-hidden ">
    <!-- Navbar -->
    <app-navbar (toggleSideNav)="isSidebarOpen =!isSidebarOpen; toggleSidebarMenu(isSidebarOpen)"></app-navbar>

    <!-- Main content -->
    <div class="overflow-auto">

      <router-outlet></router-outlet>

    </div>

    <!-- Main footer -->
    <!-- <app-footer class=" fixed justify-end gap-1 bottom-0 p-1 bg-[#65309b] w-full"></app-footer> -->
  </div>


  <div class="flex flex-col fixed top-1/4  bg-transparent space-y-1 place-items-end right-0 z-50">
    <button (click)="toggleBanner(); callPnLSummary()"
      class=" shadow text-sm font-semibold right-0 m-0 p-2 rounded-l-2xl bg-neutral-700 w-5 transition-width duration-300 ease-in-out hover:w-fit text-white  text-end  ">
      PnL
    </button>
    <button (click)="toggleBanner(); callPositionCcy()"
      class=" shadow text-sm font-semibold right-0 m-0 p-2 rounded-l-2xl bg-neutral-700 w-5 transition-width duration-300 ease-in-out hover:w-fit text-white  text-end  ">
      Positions
    </button>
    <button (click)="toggleBanner(); callPnLCcy()"
      class=" shadow text-sm font-semibold right-0 m-0 p-2 rounded-l-2xl bg-neutral-700 w-5 transition-width duration-300 ease-in-out hover:w-fit text-white  text-end  ">
      PnL by Ccy
    </button>
    <button (click)="toggleBanner(); callRisksMetrics()"
      class=" shadow text-sm font-semibold right-0 m-0 p-2 rounded-l-2xl bg-neutral-700 w-5 transition-width duration-300 ease-in-out hover:w-fit text-white  text-end  ">
      Risks Metrics
    </button>
    <button (click)="toggleBanner(); callAnalytics()"
      class=" shadow text-sm font-semibold right-0 m-0 p-2 rounded-l-2xl bg-neutral-700 w-5 transition-width duration-300 ease-in-out hover:w-fit text-white  text-end  ">
      Analytics
    </button>
  </div>


  <!-- Setting panel button  -->
   <app-settings-panel [isSettingsPanelOpen]="isSettingsPanelOpen" (toggleSettingsPanel)="toggleSettingsMenu($event)">
  </app-settings-panel>

  <button
    class=" fixed flex items-center justify-center right-0 w-10 h-10 shadow-lg rounded-l-lg z-90 cursor-pointer bg-red-600 bg-opacity-90 print:hidden top-3/4 z-50"
    (click)="isSettingsPanelOpen =!isSettingsPanelOpen">
    <mat-icon role="button" class="mat-icon notranslate icon-size-5 text-white animate-spin-slow mat-icon-no-color"
      aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="cog-8-tooth"
      data-mat-icon-namespace="heroicons_solid">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" fit=""
        height="100%" width="100%" preserveAspectRatio="xMidYMid meet" focusable="false">
        <path fill-rule="evenodd"
          d="M11.828 2.25c-.916 0-1.699.663-1.85 1.567l-.091.549a.798.798 0 01-.517.608 7.45 7.45 0 00-.478.198.798.798 0 01-.796-.064l-.453-.324a1.875 1.875 0 00-2.416.2l-.243.243a1.875 1.875 0 00-.2 2.416l.324.453a.798.798 0 01.064.796 7.448 7.448 0 00-.198.478.798.798 0 01-.608.517l-.55.092a1.875 1.875 0 00-1.566 1.849v.344c0 .916.663 1.699 1.567 1.85l.549.091c.281.047.508.25.608.517.06.162.127.321.198.478a.798.798 0 01-.064.796l-.324.453a1.875 1.875 0 00.2 2.416l.243.243c.648.648 1.67.733 2.416.2l.453-.324a.798.798 0 01.796-.064c.157.071.316.137.478.198.267.1.47.327.517.608l.092.55c.15.903.932 1.566 1.849 1.566h.344c.916 0 1.699-.663 1.85-1.567l.091-.549a.798.798 0 01.517-.608 7.52 7.52 0 00.478-.198.798.798 0 01.796.064l.453.324a1.875 1.875 0 002.416-.2l.243-.243c.648-.648.733-1.67.2-2.416l-.324-.453a.798.798 0 01-.064-.796c.071-.157.137-.316.198-.478.1-.267.327-.47.608-.517l.55-.091a1.875 1.875 0 001.566-1.85v-.344c0-.916-.663-1.699-1.567-1.85l-.549-.091a.798.798 0 01-.608-.517 7.507 7.507 0 00-.198-.478.798.798 0 01.064-.796l.324-.453a1.875 1.875 0 00-.2-2.416l-.243-.243a1.875 1.875 0 00-2.416-.2l-.453.324a.798.798 0 01-.796.064 7.462 7.462 0 00-.478-.198.798.798 0 01-.517-.608l-.091-.55a1.875 1.875 0 00-1.85-1.566h-.344zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z"
          clip-rule="evenodd"></path>
      </svg></mat-icon>
  </button>

  <app-banner></app-banner>

</div>
